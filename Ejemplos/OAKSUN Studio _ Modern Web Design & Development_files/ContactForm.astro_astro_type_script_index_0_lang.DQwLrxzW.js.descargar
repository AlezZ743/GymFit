import{g as n}from"./index.Brfk6Bdo.js";import{u as P,l as V}from"./smoothScroll.DNN4N_gI.js";import"./ScrollTrigger.6qCihK2t.js";function y(){const o=document.getElementById("formContainer"),r=document.querySelectorAll(".reveal-element");o&&n.set(o,{yPercent:-110,opacity:1}),r.length>0&&n.set(r,{y:-40,opacity:0})}let a=[];document.addEventListener("astro:page-load",()=>{a.forEach(e=>e()),a=[],y();const o=document.getElementById("contactForm"),r=document.getElementById("submitButton"),i=document.getElementById("formModal"),l=document.getElementById("formContainer"),f=document.getElementById("closeFormModal"),g=document.getElementById("servicesContainer"),I=document.getElementById("servicesError"),u=document.getElementById("submitError"),L=()=>{o.querySelectorAll('input[name="services"]:checked').length>0&&g?.querySelectorAll("span").forEach(s=>{s.classList.remove("border-rose-300","bg-rose-100/20","-m-[1px]","border-2")})};o.querySelectorAll('input[name="services"]').forEach(e=>{e.addEventListener("change",L),a.push(()=>e.removeEventListener("change",L))});function H(){let e=!0;return o.querySelectorAll('input[name="services"]:checked').length===0&&(g?.querySelectorAll("span").forEach(t=>{t.classList.add("border-rose-300","bg-rose-100/20","-m-[1px]","border-2")}),e=!1),o.querySelectorAll("input[required], textarea[required]").forEach(t=>{(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement)&&(t.value.trim()?t.type==="email"&&!E(t.value)?(t.classList.add("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"),e=!1):t.classList.remove("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"):(t.classList.add("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"),e=!1))}),e}function E(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}const h=e=>{e.value.trim()&&(e.type==="email"?E(e.value)?e.classList.remove("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"):e.classList.add("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"):e.classList.remove("border-rose-300","bg-rose-100/20","-m-[1px]","border-2"))};o.querySelectorAll("input[required], textarea[required]").forEach(e=>{(e instanceof HTMLInputElement||e instanceof HTMLTextAreaElement)&&(e.addEventListener("input",()=>h(e)),a.push(()=>e.removeEventListener("input",()=>h(e))))});const S=async e=>{if(e.preventDefault(),!H())return;const c=r.querySelector(".button__label"),t=document.getElementById("submitButtonContainer");c&&(c.textContent="Sending..."),r.disabled=!0,u?.classList.add("hidden");try{const v=new FormData(o),d=await fetch("https://api.web3forms.com/submit",{method:"POST",body:v}),F=await d.json();if(d.ok){const q=r.querySelector(".button__label");q&&(q.innerHTML=`
							<span class="flex items-center gap-2">
								<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
									<path fill-rule="evenodd" d="M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z" clip-rule="evenodd" />
								</svg>
								Sent
							</span>`),t&&t.setAttribute("data-tooltip","You did it!");const m=document.getElementById("successMessage"),C=m?.querySelector(".rounded-3xl");m&&C&&(m.classList.remove("hidden"),n.from(C,{y:50,opacity:0,duration:.6,ease:"power3.out"})),o.reset();const p=document.getElementById("closeSuccessMessage");if(p&&m){const M=()=>{const A=m.querySelector(".rounded-3xl");A&&n.to(A,{y:50,opacity:0,duration:.4,ease:"power3.in",onComplete:()=>{m.classList.add("hidden"),b()}})};p.addEventListener("click",M),a.push(()=>p.removeEventListener("click",M))}}else throw new Error(F.message||"Submission failed")}catch(v){console.error("Submission error:",v);const d=r.querySelector(".button__label");d&&(d.textContent="Failed"),t&&t.setAttribute("data-tooltip","Failed to send"),r.classList.remove("bg-dark-bg","hover:bg-black"),r.classList.add("bg-red-500"),u instanceof HTMLElement&&(u.textContent=v.message||"Failed to send message. Please try again later.",u.classList.remove("hidden")),setTimeout(()=>{d&&(d.textContent="Send"),t&&t.setAttribute("data-tooltip","Do it!"),r.disabled=!1,r.classList.remove("bg-red-500"),r.classList.add("bg-dark-bg","hover:bg-black"),o.classList.remove("was-validated"),g?.classList.remove("error"),I?.classList.add("hidden"),u?.classList.add("hidden")},5e3)}};o?.addEventListener("submit",S),a.push(()=>o?.removeEventListener("submit",S));const k=()=>{T()};document.addEventListener("show-modal",k),a.push(()=>document.removeEventListener("show-modal",k));function T(){i?.classList.remove("hidden"),i&&(i.style.display="block"),V();const e=document.getElementById("modalBackdrop");e&&(e.classList.remove("bg-dark-bg/0"),e.classList.add("bg-dark-bg/50")),n.killTweensOf(l),n.killTweensOf(document.querySelectorAll(".reveal-element")),y();const s=n.timeline();s.to(l,{yPercent:0,opacity:1,duration:1.6,ease:"elastic.out(0.25)"},0);const c=[...document.querySelectorAll(".reveal-element")];s.to(c,{y:0,opacity:1,duration:1,stagger:.05,ease:"elastic.out(0.4)"},0),setTimeout(()=>{s.play()},100)}function b(){P();const e=document.getElementById("modalBackdrop");e&&(e.classList.remove("bg-dark-bg/50"),e.classList.add("bg-dark-bg/0")),n.killTweensOf(l),n.to(l,{yPercent:-120,opacity:1,duration:.6,ease:"power2.inOut",onComplete:()=>{i&&(i.style.display="none",i.classList.add("hidden")),n.set(l,{clearProps:"all"}),n.set(document.querySelectorAll(".reveal-element"),{clearProps:"all"}),y()}})}const x=e=>{e.preventDefault(),b()};f?.addEventListener("click",x),a.push(()=>f?.removeEventListener("click",x));const w=e=>{const s=e.target;l&&!l.contains(s)&&b()};i?.addEventListener("click",w),a.push(()=>i?.removeEventListener("click",w));const B=e=>{const s=document.getElementById("successMessage"),c=s?.querySelector(".rounded-3xl");if(s&&!s.classList.contains("hidden")){const t=e.target;c&&!c.contains(t)&&n.to(c,{y:50,opacity:0,duration:.4,ease:"power3.in",onComplete:()=>{s.classList.add("hidden"),b()}})}};document.addEventListener("click",B),a.push(()=>document.removeEventListener("click",B))});
