import{g as u}from"./index.Brfk6Bdo.js";import{I as L,D as E}from"./InertiaPlugin.CGLf1ODE.js";import{g as T}from"./GsapViewTransitionHandler.D5cLDbG8.js";import"./ScrollTrigger.6qCihK2t.js";u.registerPlugin(L);u.registerPlugin(E);function P(t){const s=t.querySelector(".track");function c(){const e=s.offsetHeight;s.querySelectorAll(".item").forEach(o=>{o instanceof HTMLElement&&!(o instanceof HTMLVideoElement)&&(o.style.fontSize=`${e*1}px`)})}c();let d;window.addEventListener("resize",()=>{clearTimeout(d),d=setTimeout(()=>{c()},100)});const p=t.querySelectorAll(".item"),w=document.createElement("div"),v=-1;let a=0;p.forEach(e=>{a+=e.offsetWidth}),s.style.width=`${a*2}px`,p.forEach(e=>{const r=e.cloneNode(!0);s.appendChild(r)}),c();const n=u.to(s,{x:-a,repeat:-1,duration:20,ease:"none",paused:!0});let l=!1,f=0,h=0;t.addEventListener("touchstart",e=>{f=e.touches[0].clientY,h=e.touches[0].clientX},{passive:!0}),t.addEventListener("pointerdown",()=>{n.pause(),l=!0});const g=()=>{l&&(l=!1,setTimeout(()=>{n.paused()&&n.play()},100))};window.addEventListener("pointerup",g),window.addEventListener("touchend",g),t.addEventListener("touchmove",e=>{const r=e.touches[0].clientY,o=e.touches[0].clientX,i=Math.abs(r-f),S=Math.abs(o-h);i>S&&n.paused()&&n.play()},{passive:!0}),E.create(w,{type:"x",trigger:t,inertia:!0,onDrag:function(){m(this)},onThrowUpdate:function(){m(this)}});function m(e){const r=e.deltaX/a*v,i=(n.progress()+r)%1;n.progress(i<0?1+i:i)}function y(){n.render(n.time(),!1,!0)}window.addEventListener("resize",y),n.play()}function x(){document.querySelectorAll(".marquee-container").forEach(t=>{P(t)})}T.register("marquee-container",t=>{t.add(x)});
